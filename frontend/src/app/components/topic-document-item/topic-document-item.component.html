@if (this.previewLoading()) {
  <p-skeleton width="200px" height="200px" />
} @else {
  <div
    class="mx-auto mb-4 flex h-[200px] w-[200px] flex-col border bg-surface-50 border-surface rounded-border">
    <div
      [class.justify-between]="this.editMode()"
      class="flex flex-row items-center gap-1">
      <img [src]="this.getMimeTypeIcon(file().name)" class="h-6 w-6 pl-2" />
      <p class="truncate py-2 text-sm font-medium text-surface-900">{{ this.file().name }}</p>
      @if (this.editMode()) {
        <div>
          <p-button
            (click)="menu.toggle($event)"
            icon="pi pi-ellipsis-v"
            [rounded]="true"
            [text]="true"
            severity="secondary" />
          <p-tieredmenu #menu [model]="this.items()" [popup]="true"></p-tieredmenu>
        </div>
      }
    </div>
    <div
      class="flex h-full w-full items-center justify-center border-2 align-middle hover:cursor-pointer hover:bg-surface-100"
      (click)="openView()">
      <img [src]="this.imageUrl()" class="cropped-ofp" />
      <!-- TODO: icons instead of preview for allowed file types -->
    </div>
  </div>
}
